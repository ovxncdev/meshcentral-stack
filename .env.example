
# ==============================================================================
# Remote Support Stack - Environment Configuration
# ==============================================================================
# Copy this file to .env and edit values as needed.
# All paths are relative to BASE_PATH (auto-detected if not set).
# ==============================================================================

# ==============================================================================
# ENVIRONMENT
# ==============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=info
LOG_FORMAT=text
TZ=UTC

# ==============================================================================
# PROJECT
# ==============================================================================
PROJECT_NAME=remote-support
BASE_PATH=

# ==============================================================================
# SERVER
# ==============================================================================
SERVER_DOMAIN=localhost
SERVER_IP=

# ==============================================================================
# CLOUDFLARE (if using Cloudflare proxy)
# ==============================================================================
# Set to true if using Cloudflare proxy for your domain
CLOUDFLARE_PROXY=false

# Agent subdomain - must use DNS only (gray cloud) in Cloudflare
# Agents cannot connect through Cloudflare proxy due to certificate pinning
# Example: agent.yourdomain.com
AGENT_SUBDOMAIN=

# ==============================================================================
# MESHCENTRAL
# ==============================================================================
MESHCENTRAL_VERSION=latest
MESHCENTRAL_SESSION_KEY=
MESHCENTRAL_NEW_ACCOUNTS=false
MESHCENTRAL_WEBRTC=false
MESHCENTRAL_PLUGINS=false
MESHCENTRAL_SESSION_RECORDING=true
MESHCENTRAL_MINIFY=true
MESHCENTRAL_ALLOW_IFRAME=false
MESHCENTRAL_REVERSE_PROXY=nginx
MESHCENTRAL_HTTPS_PORT=443
MESHCENTRAL_MEMORY_LIMIT=512M
MESHCENTRAL_MEMORY_RESERVATION=256M

# ==============================================================================
# NGINX
# ==============================================================================
NGINX_VERSION=alpine
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
NGINX_MEMORY_LIMIT=128M
NGINX_MEMORY_RESERVATION=64M

# ==============================================================================
# SSL
# ==============================================================================
SSL_TYPE=self-signed
SSL_EMAIL=
SSL_CERT_PATH=

# ==============================================================================
# CERTBOT
# ==============================================================================
CERTBOT_VERSION=latest

# ==============================================================================
# MONITORING (Optional)
# ==============================================================================
UPTIME_KUMA_VERSION=1
UPTIME_KUMA_MEMORY_LIMIT=256M
UPTIME_KUMA_MEMORY_RESERVATION=128M

DOZZLE_VERSION=latest
DOZZLE_AUTH_PROVIDER=none
DOZZLE_MEMORY_LIMIT=128M
DOZZLE_MEMORY_RESERVATION=64M

# ==============================================================================
# SECURITY (Optional)
# ==============================================================================
FAIL2BAN_VERSION=latest
FAIL2BAN_DB_PURGE_AGE=1d
FAIL2BAN_MEMORY_LIMIT=128M
FAIL2BAN_MEMORY_RESERVATION=64M

# ==============================================================================
# ADMIN DASHBOARD
# ==============================================================================
# Port for admin dashboard (internal, accessed via /admin-settings)
ADMIN_PORT=3001

# Optional: Secret key for API authentication (leave empty to disable)
ADMIN_AUTH_SECRET=

# Memory limits
ADMIN_MEMORY_LIMIT=128M
ADMIN_MEMORY_RESERVATION=64M

# ==============================================================================
# NOTIFICATIONS (Telegram)
# ==============================================================================
# Enable Telegram notifications
TELEGRAM_ENABLED=false

# Get from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=

# Get from @userinfobot on Telegram
TELEGRAM_CHAT_ID=

# What events to notify
NOTIFY_DEVICE_CONNECT=true
NOTIFY_DEVICE_DISCONNECT=true
NOTIFY_USER_LOGIN=false
NOTIFY_USER_LOGOUT=false

# ==============================================================================
# BACKUP
# ==============================================================================
BACKUP_ENABLED=true
BACKUP_RETENTION_COUNT=7
BACKUP_COMPRESSION=6
BACKUP_PATH=

# ==============================================================================
# LOGGING
# ==============================================================================
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ==============================================================================
# PATHS (Auto-generated from BASE_PATH)
# ==============================================================================
DATA_PATH=
LOGS_PATH=
CONFIG_PATH=
WEB_PATH=
